<ng-container *ngIf="state$ | async as state">
  <div>
    <input [value]="state.pokemon.name" />
  </div>

  <form [formGroup]="form">
    <table class="calc-table">
      <tbody>
        <tr></tr>
        <tr>
          <td>Lv</td>
          <td colspan="3">
            <level-input formControlName="level"></level-input>
          </td>
        </tr>
        <tr>
          <td>性格</td>
          <td colspan="3">
            <nature-select formControlName="nature"></nature-select>
          </td>
        </tr>
        <tr>
          <td></td>
          <td>能力値</td>
          <td>個体値</td>
          <td>努力値</td>
        </tr>
        <tr formGroupName="H">
          <td class="stat-name">H</td>
          <td><stat-input formControlName="stat"></stat-input></td>
          <td><iv-input formControlName="iv"></iv-input></td>
          <td><ev-input formControlName="ev"></ev-input></td>
        </tr>
        <tr
          formGroupName="A"
          [class.stat-nature-up]="state.nature.up === 'A'"
          [class.stat-nature-down]="state.nature.down === 'A'"
        >
          <td class="stat-name">A</td>
          <td><stat-input formControlName="stat"></stat-input></td>
          <td><iv-input formControlName="iv"></iv-input></td>
          <td><ev-input formControlName="ev"></ev-input></td>
        </tr>
        <tr
          formGroupName="B"
          [class.stat-nature-up]="state.nature.up === 'B'"
          [class.stat-nature-down]="state.nature.down === 'B'"
        >
          <td class="stat-name">B</td>
          <td><stat-input formControlName="stat"></stat-input></td>
          <td><iv-input formControlName="iv"></iv-input></td>
          <td><ev-input formControlName="ev"></ev-input></td>
        </tr>
        <tr
          formGroupName="C"
          [class.stat-nature-up]="state.nature.up === 'C'"
          [class.stat-nature-down]="state.nature.down === 'C'"
        >
          <td class="stat-name">C</td>
          <td><stat-input formControlName="stat"></stat-input></td>
          <td><iv-input formControlName="iv"></iv-input></td>
          <td><ev-input formControlName="ev"></ev-input></td>
        </tr>
        <tr
          formGroupName="D"
          [class.stat-nature-up]="state.nature.up === 'D'"
          [class.stat-nature-down]="state.nature.down === 'D'"
        >
          <td class="stat-name">D</td>
          <td><stat-input formControlName="stat"></stat-input></td>
          <td><iv-input formControlName="iv"></iv-input></td>
          <td><ev-input formControlName="ev"></ev-input></td>
        </tr>
        <tr
          formGroupName="S"
          [class.stat-nature-up]="state.nature.up === 'S'"
          [class.stat-nature-down]="state.nature.down === 'S'"
        >
          <td class="stat-name">S</td>
          <td><stat-input formControlName="stat"></stat-input></td>
          <td><iv-input formControlName="iv"></iv-input></td>
          <td><ev-input formControlName="ev"></ev-input></td>
        </tr>
      </tbody>
    </table>
  </form>

  <textarea class="stats-text" [value]="state.statsText" readonly></textarea>
</ng-container>
